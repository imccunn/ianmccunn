!function(a){function c(d){if(b[d])return b[d].exports;var e=b[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,c),e.loaded=!0,e.exports}var b={};return c.m=a,c.c=b,c.p="",c(0)}([function(a,b,c){"use strict";function o(){g.getByteTimeDomainData(n),l.fillStyle="rgb(0, 0, 0)",l.fillRect(0,0,k,j),l.lineWidth=2,l.strokeStyle="rgb(0, 255, 120)",l.beginPath();for(var a=1*k/m,b=0,c=0;m>c;c++){var d=n[c]/128,e=d*j/2;0===c?l.moveTo(b,e):l.lineTo(b,e),b+=a}l.lineTo(k,j/2),l.stroke(),window.requestAnimationFrame(o)}var d=c(1);c(2),c(4).audioCtx;var g=c(4).analyser;c(4).MASTERGAIN,window.Chord=c(1),window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}();var i=document.getElementById("v");i.width=400,i.height=100;var j=i.height,k=i.width,l=i.getContext("2d"),m=g.frequencyBinCount,n=new Uint8Array(m);l.clearRect(0,0,i.width,i.height);var p;document.getElementById("makeChord").addEventListener("click",function(){var a=parseInt(document.getElementById("numPitches").value),b=parseInt(document.getElementById("fMax").value),c=parseInt(document.getElementById("fMin").value),e=parseFloat(document.getElementById("duration").value);p=new d(a,b,c,e);var f=[],g=document.getElementById("frequencies");g.innerHTML="";for(var h=0;h<p.notes.length;h++)f.push(p.notes[h].freq.toFixed(3));f.sort(function(a,b){return a-b});for(var h=f.length-1;h>=0;h--){var i=document.createElement("li");i.innerHTML=f[h],g.appendChild(i)}o()}),o()},function(a,b,c){"use strict";function i(a,b,c,d){this.notes=[],this.root=Math.floor(250*Math.random()+120),this.rootGain=.002,this.numPitches=a,this.fqMax=b||1e3,this.fqMin=c||200,this.DURATION=d||1,this.init()}c(5);var e=c(6).oscTypes,f=c(4).audioCtx,g=c(7),h=c(8);i.prototype={constructor:i,init:function(){new g(this.DURATION);for(var b,c,d=0;d<this.numPitches;d++)c=.5*Math.random(),b=Math.random()*(this.fqMax-this.fqMin)+this.fqMin,this.notes[d]=new h(this.DURATION,f.currentTime,e.sine,b,f)},setChord:function(){for(var a=1;a<this.notes.length;a++)this.notes[a].freq=800*Math.random()+220,this.notes[a].dur=.5,this.notes[a].init()},atk:function(){this.init(this.numPitches);for(var a=0;a<this.notes.length;a++)this.notes[a].osc.start(f.currentTime),this.notes[a].gain.gain.setValueAtTime(0,f.currentTime),this.notes[a].gain.gain.linearRampToValueAtTime(.7,f.currentTime+.15),this.notes[a].gain.gain.linearRampToValueAtTime(0,f.currentTime+2),this.notes[a].osc.stop(f.currentTime+2)},end:function(){for(var a=0;a<this.notes.length;a++)this.notes[a].stop();this.init(this.numPitches)}},a.exports=i},function(a,b,c){"use strict";function h(a,b,c,d,e,f,g,h){this.ctx=h,this.startTime=h.currentTime,this.duration=a,this.totalAttacks=b,this.attacks=[],this.atkMin=c,this.atkMax=d,this.fMin=e,this.fMax=f,this.oscType=g,console.log(this.oscType),this.isPlaying=!1,this.modelObj=[]}var d=c(8),e=c(6).rand,f=c(6).oscArr,g=c(6).rInt;h.prototype={constructor:h,setAttacks:function(){var a=this.ctx.currentTime;this.startTime=a;for(var b,c,h,i,j=0;j<this.totalAttacks;j++)b=e()*(this.atkMax-this.atkMin)+this.atkMin,c=this.startTime+e()*this.duration+1,h=e()*(this.fMax-this.fMin)+this.fMin,i=4===this.oscType?f(g(0,3)):f(this.oscType),this.modelObj.push({dur:b,atkTime:c-a,freq:h}),this.attacks.push(new d(b,c,i,h,this.ctx))},scheduleModel:function(){this.ctx.currentTime;for(var b=0;b<this.attacks.length;b++);},findLatestEndTime:function(){for(var a=this.ctx.currentTime-this.attacks[0].endTime,b=1;b<this.attacks.length;b++)a=a>this.attacks[b].endTime?a:this.attacks[b].endTime;return a},stop:function(){for(var a=0;a<this.attacks.length;a++)this.attacks[a].instrument.stop()}},a.exports=h},function(a){var d=document.getElementById("c");d.width=400,d.height=200;var e=d.getContext("2d");a.exports={fillBackDefault:function(a){var a=a||0;e.beginPath(),e.rect(0,0,d.width,d.height),e.fillStyle="rgb("+a+", "+a+", "+a+")",e.fill(),e.closePath()},drawRect:function(a,b,c,d,f){e.beginPath(),e.rect(b,c,d,f),e.fillStyle=a,e.fill()},drawRects:function(a){for(var b=0;b<a.length;b++);},drawMusicModel:function(a){this.fillBackDefault(0,0,0);for(var b,c,e,f=a.findLatestEndTime()-a.startTime,g=0;g<a.attacks.length;g++)b=(a.attacks[g].startTime-a.startTime)*d.width/f,noteHeight=1,e=a.attacks[g].duration*d.width/f,c=d.height-d.height*(a.attacks[g].freq-a.fMin)/(a.fMax-a.fMin),this.drawRect("#aa00ff",b,c,e,noteHeight)},rRGB:function(){var a=rInt255();return"rgb("+a+","+a+","+a+")"},rInt255:function(){return Math.floor(255*Math.random())},drawTimeLine:function(a){drawRect("#ff0000",a,0,1,d.height)},draw:function(){this.fillBackDefault(0,0,0),requestAnimationFrame(this.draw)}}},function(a){"use strict";var d={audioCtx:new(window.AudioContext||window.webkitAudioContext),init:function(){return this.OUT=this.audioCtx.destination,this.MASTERGAIN=this.audioCtx.createGain(),this.analyser=this.audioCtx.createAnalyser(),this.MASTERGAIN.connect(this.OUT),this.MASTERGAIN.gain.value=.02,this.analyser.connect(this.MASTERGAIN),this.analyser.fftSize=2048,this}}.init();a.exports=d},function(a,b,c){"use strict";function e(a,b,c,d,e){this.ctx=e,this.osc=this.ctx.createOscillator(),this.type=b||"sine",this.gain=this.ctx.createGain(),this.freq=a||150,this.dur=d||1,this.startTime=0,this.endTime=this.startTime+this.dur,this.adsr=c,this.osc.type=this.type,this.osc.frequency.value=this.freq,this.gain.gain.value=.5,this.init()}var d=c(4).analyser;e.prototype={constructor:e,init:function(){this.gain.connect(d),this.connectTo(this.gain)},set:function(a,b,c,d){this.startTime=a,this.dur=b,this.freq=c,this.adsr=d},schedule:function(a){this.startTime=a,this.endTime=this.startTime+this.dur+3,this.startAndStop(),this.setLinearGains()},setLinearGains:function(){var a=this.gain.gain;a.setValueAtTime(0,this.startTime),a.linearRampToValueAtTime(this.adsr.A.y,this.startTime+this.adsr.A.x),a.linearRampToValueAtTime(this.adsr.D.y,this.startTime+this.adsr.A.x+this.adsr.D.x),a.linearRampToValueAtTime(this.adsr.S.y,this.startTime+this.adsr.A.x+this.adsr.D.x+this.adsr.S.x),a.linearRampToValueAtTime(this.adsr.R.y,this.startTime+this.adsr.A.x+this.adsr.D.x+this.adsr.S.x+this.adsr.R.x)},connectTo:function(a){this.osc.connect(a)},start:function(){this.osc.start()},startAndStop:function(){this.osc.start(this.startTime),this.osc.stop(this.endTime+10)},stop:function(){this.osc.stop()}},a.exports=e},function(a){"use strict";function d(a){var b=[];for(var c in a)b.push(a[c]);return b}a.exports={rand:Math.random,rFloatFreq:function(a,b){return parstFloat(Math.random()*b+a)},rInt:function(a,b){return Math.floor(Math.random()*(b-a)+a)},oscArr:function(a){return d(this.oscTypes)[a]}.bind(this),intervals:{m2:16/15,M2:9/8,m3:1.2,M3:5/4,p4:4/3,tt:45/32,p5:1.5,m6:1.6,M6:5/3,m7:16/9,M7:15/8,P8:2},intvArr:d(this.intervals),scales:{twelvetone:[0,1,2,3,4,5,6,7,8,9,10,11],major:[0,2,4,5,7,9,11],minor:[0,2,3,5,6,8,10],pent:[0,3,5,8,10]},oscTypes:{sin:"sine",squ:"square",saw:"sawtooth",tri:"triangle",cus:"custom"}}},function(a,b,c){"use strict";function e(a){this.xRange=a,this.yRange=.999999,this.A=new d,this.D=new d,this.S=new d,this.R=new d,this.adsrRatios={a:.25,d:.25,s:.25,r:.25},this.rGainVecs()}var d=c(9);e.prototype={constructor:e,rGainVecs:function(){this.A.x=this.xRange*this.adsrRatios.a,this.A.y=Math.random()*this.yRange,this.D.x=this.xRange*this.adsrRatios.d+this.A.x,this.D.y=Math.random()*this.yRange,this.S.x=this.xRange*this.adsrRatios.s+this.D.x,this.S.y=Math.random()*this.yRange,this.R.x=this.xRange*this.adsrRatios.r+this.S.x,this.R.y=0}},a.exports=e},function(a,b,c){"use strict";function f(a,b,c,f,g){this.ctx=g,this.freq=f,this.duration=a,this.startTime=b,this.endTime=b+a,this.ADSR=new d(this.duration),this.instrument=new e(this.freq,c,this.ADSR,this.duration,this.ctx),this.instrument.init(),this.instrument.schedule(this.startTime)}var d=c(7),e=c(5);a.exports=f},function(a){"use strict";function d(a,b){this.x=a,this.y=b}a.exports=d}]);